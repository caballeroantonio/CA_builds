<?xml version="1.0" encoding="utf-8"?>
<!-- @version 			$Id:$ -->
<!-- @name			    RealEstateManagerCA -->
<!-- @author			caballeroantonio (caballeroantonio.com) -->
<!-- @package			com_remca -->
<!-- @subpackage		com_remca.admin -->
<!-- @copyright		     -->
<!-- @license			GNU General Public License version 3 or later; See http://www.gnu.org/copyleft/gpl.html -->

<!-- The following Component Architect header section must remain in any distribution of this file -->

<!-- @CAversion			Id: filter_compobjectplural.xml 571 2016-01-04 15:03:02Z BrianWade $ -->
<!-- @CAauthor		    Component Architect (www.componentarchitect.com) -->
<!-- @CApackage		    architectcomp -->
<!-- @CAsubpackage	    architectcomp.admin -->
<!-- @CAtemplate		joomla_3_4_standard (Release 1.0.1) -->
<!-- @CAcopyright		Copyright (c)2013 - 2016  Simply Open Source Ltd. (trading as Component Architect). All Rights Reserved -->
<!-- @Joomlacopyright   Copyright (c)2005 - 2016 Open Source Matters, Inc. All rights reserved. -->
<!-- @CAlicense		    GNU General Public License version 3 or later; See http://www.gnu.org/copyleft/gpl.html -->

<!-- This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by -->
<!-- the Free Software Foundation, either version 3 of the License, or (at your option) any later version. -->

<!-- This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of -->
<!-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details. -->

<form>
	<fields name="filter">
		<field
			name="search"
			type="text"
			label="COM_REMCA_HOUSES_FILTER_SEARCH_DESC"
			hint="JSEARCH_FILTER"
		/>
        <field
			name="site"
			type="sql"
			label="COM_REMCA_FILTER_SITE_LABEL"
			description="COM_REMCA_FILTER_SITE_DESC"
			onchange="this.form.submit();"
			query="SELECT DISTINCT `a`.`SITE` AS `value`, `a`.`SITE` AS `text`
		            FROM `#__rem_houses` AS `a` 
		            ORDER BY `a`.`SITE`"
			key_field="value"
			value_field="text"
		>
            <option value="">COM_REMCA_HOUSES_SELECT_SITE</option>
        </field>
        <field
			name="id_country"
			type="sql"
			label="COM_REMCA_FILTER_ID_COUNTRY_LABEL"
			description="COM_REMCA_FILTER_ID_COUNTRY_DESC"
			onchange="this.form.submit();"
			query="SELECT `c1`.`id` AS `value`, `c1`.`name` AS `text`
		            FROM `#__rem_countries` AS `c1`
		            INNER JOIN `#__rem_houses` AS `a` ON `a`.`id_country`  =  `c1`.`id`
		            GROUP BY `c1`.`id`, `c1`.`name`
		            ORDER BY `c1`.`name`"
			key_field="value"
			value_field="text"
		>
            <option value="">COM_REMCA_HOUSES_SELECT_C1_COUNTRY</option>
        </field>
        <field
			name="id_lstate"
			type="sql"
			label="COM_REMCA_FILTER_ID_LSTATE_LABEL"
			description="COM_REMCA_FILTER_ID_LSTATE_DESC"
			onchange="this.form.submit();"
			query="SELECT `s`.`id` AS `value`, `s`.`name` AS `text`
		            FROM `#__rem_lstates` AS `s`
		            INNER JOIN `#__rem_houses` AS `a` ON `a`.`id_lstate`  =  `s`.`id`
		            GROUP BY `s`.`id`, `s`.`name`
		            ORDER BY `s`.`name`"
			key_field="value"
			value_field="text"
		>
            <option value="">COM_REMCA_HOUSES_SELECT_S_LSTATE</option>
        </field>
        <field
			name="id_lmunicipality"
			type="sql"
			label="COM_REMCA_FILTER_ID_LMUNICIPALITY_LABEL"
			description="COM_REMCA_FILTER_ID_LMUNICIPALITY_DESC"
			onchange="this.form.submit();"
			query="SELECT `m`.`id` AS `value`, `m`.`name` AS `text`
		            FROM `#__rem_lmunicipalities` AS `m`
		            INNER JOIN `#__rem_houses` AS `a` ON `a`.`id_lmunicipality`  =  `m`.`id`
		            GROUP BY `m`.`id`, `m`.`name`
		            ORDER BY `m`.`name`"
			key_field="value"
			value_field="text"
		>
            <option value="">COM_REMCA_HOUSES_SELECT_M_LMUNICIPALITY</option>
        </field>
        <field
			name="price"
			type="sql"
			label="COM_REMCA_FILTER_PRICE_LABEL"
			description="COM_REMCA_FILTER_PRICE_DESC"
			onchange="this.form.submit();"
			query="SELECT DISTINCT `a`.`PRICE` AS `value`, `a`.`PRICE` AS `text`
		            FROM `#__rem_houses` AS `a` 
		            ORDER BY `a`.`PRICE`"
			key_field="value"
			value_field="text"
		>
            <option value="">COM_REMCA_HOUSES_SELECT_PRICE</option>
        </field>
        <field
			name="bathrooms"
			type="sql"
			label="COM_REMCA_FILTER_BATHROOMS_LABEL"
			description="COM_REMCA_FILTER_BATHROOMS_DESC"
			onchange="this.form.submit();"
			query="SELECT DISTINCT `a`.`BATHROOMS` AS `value`, `a`.`BATHROOMS` AS `text`
		            FROM `#__rem_houses` AS `a` 
		            ORDER BY `a`.`BATHROOMS`"
			key_field="value"
			value_field="text"
		>
            <option value="">COM_REMCA_HOUSES_SELECT_BATHROOMS</option>
        </field>
        <field
			name="bedrooms"
			type="sql"
			label="COM_REMCA_FILTER_BEDROOMS_LABEL"
			description="COM_REMCA_FILTER_BEDROOMS_DESC"
			onchange="this.form.submit();"
			query="SELECT DISTINCT `a`.`BEDROOMS` AS `value`, `a`.`BEDROOMS` AS `text`
		            FROM `#__rem_houses` AS `a` 
		            ORDER BY `a`.`BEDROOMS`"
			key_field="value"
			value_field="text"
		>
            <option value="">COM_REMCA_HOUSES_SELECT_BEDROOMS</option>
        </field>
        <field
			name="state"
			type="status"
			label="COM_REMCA_FILTER_STATUS_LABEL"
			description="COM_REMCA_FILTER_STATUS_DESC"
			onchange="this.form.submit();"
		>
            <option value="">COM_REMCA_SELECT_STATUS</option>
        </field>
        <field
			name="category_id"
			type="category"
			label="JOPTION_FILTER_CATEGORY"
			description="JOPTION_FILTER_CATEGORY_DESC"
			extension="com_remca"
			onchange="this.form.submit();"
			>
            <option value="">JOPTION_SELECT_CATEGORY</option>
        </field>
        <field
			name="language"
			type="contentlanguage"
			label="JOPTION_FILTER_LANGUAGE"
			description="JOPTION_FILTER_LANGUAGE_DESC"
			onchange="this.form.submit();"
			>
            <option value="">JOPTION_SELECT_LANGUAGE</option>
            <option value="*">JALL</option>
        </field>
    </fields>
	<fields name="list">
		<field
			name="fullordering"
			type="list"
			label="JGLOBAL_SORT_BY"
			onchange="this.form.submit();"
			default=""
		>
			<option value="">JGLOBAL_SORT_BY</option>
			<option value="a.ordering ASC">JGRID_HEADING_ORDERING_ASC</option>
			<option value="a.ordering DESC">JGRID_HEADING_ORDERING_DESC</option>
            <option value="a.name ASC">COM_REMCA_FIELD_NAME_SORT_ASC_LABEL</option>
            <option value="a.name DESC">COM_REMCA_FIELD_NAME_SORT_DESC_LABEL</option>
            <option value="a.site ASC">COM_REMCA_HOUSES_FIELD_SITE_SORT_ASC_LABEL</option>
            <option value="a.site DESC">COM_REMCA_HOUSES_FIELD_SITE_SORT_DESC_LABEL</option>
            <option value="c1_country_name ASC">COM_REMCA_HOUSES_FIELD_ID_COUNTRY_SORT_ASC_LABEL</option>
            <option value="c1_country_name DESC">COM_REMCA_HOUSES_FIELD_ID_COUNTRY_SORT_DESC_LABEL</option>
            <option value="s_lstate_name ASC">COM_REMCA_HOUSES_FIELD_ID_LSTATE_SORT_ASC_LABEL</option>
            <option value="s_lstate_name DESC">COM_REMCA_HOUSES_FIELD_ID_LSTATE_SORT_DESC_LABEL</option>
            <option value="m_lmunicipality_name ASC">COM_REMCA_HOUSES_FIELD_ID_LMUNICIPALITY_SORT_ASC_LABEL</option>
            <option value="m_lmunicipality_name DESC">COM_REMCA_HOUSES_FIELD_ID_LMUNICIPALITY_SORT_DESC_LABEL</option>
            <option value="a.price ASC">COM_REMCA_HOUSES_FIELD_PRICE_SORT_ASC_LABEL</option>
            <option value="a.price DESC">COM_REMCA_HOUSES_FIELD_PRICE_SORT_DESC_LABEL</option>
            <option value="a.bathrooms ASC">COM_REMCA_HOUSES_FIELD_BATHROOMS_SORT_ASC_LABEL</option>
            <option value="a.bathrooms DESC">COM_REMCA_HOUSES_FIELD_BATHROOMS_SORT_DESC_LABEL</option>
            <option value="a.bedrooms ASC">COM_REMCA_HOUSES_FIELD_BEDROOMS_SORT_ASC_LABEL</option>
            <option value="a.bedrooms DESC">COM_REMCA_HOUSES_FIELD_BEDROOMS_SORT_DESC_LABEL</option>
			<option value="a.state ASC">JSTATUS_ASC</option>
			<option value="a.state DESC">JSTATUS_DESC</option>
			<option value="category_title ASC">JCATEGORY_ASC</option>
			<option value="category_title DESC">JCATEGORY_DESC</option>
			<option value="association ASC" requires="associations">JASSOCIATIONS_ASC</option>
			<option value="association DESC" requires="associations">JASSOCIATIONS_DESC</option>
			<option value="a.language ASC">JGRID_HEADING_LANGUAGE_ASC</option>
			<option value="a.language DESC">JGRID_HEADING_LANGUAGE_DESC</option>
			<option value="a.hits ASC">JGLOBAL_HITS_ASC</option>
			<option value="a.hits DESC">JGLOBAL_HITS_DESC</option>
			<option value="a.id ASC">JGRID_HEADING_ID_ASC</option>
			<option value="a.id DESC">JGRID_HEADING_ID_DESC</option>
        </field>
        <field
			name="limit"
			type="limitbox"
			class="input-mini"
			default="25"
			label="COM_REMCA_LIST_LIMIT_LABEL"
			description="COM_REMCA_LIST_LIMIT_DESC"
			onchange="this.form.submit();"
		/>
	</fields>
</form>
